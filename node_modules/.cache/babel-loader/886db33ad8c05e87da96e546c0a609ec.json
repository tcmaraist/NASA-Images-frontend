{"ast":null,"code":"import _slicedToArray from \"/Users/tymaraist/NASA-Images-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tymaraist/NASA-Images-frontend/src/components/details/Details.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport api from \"../../utils/api\";\nimport Preloader from \"../preloader/Preloader\";\nexport default function Details() {\n  var _useParams = useParams(),\n      nasa_id = _useParams.nasa_id;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      image = _useState2[0],\n      setImage = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      details = _useState4[0],\n      setDetails = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      title = _useState6[0],\n      setTitle = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isLoaded = _useState8[0],\n      setIsLoaded = _useState8[1];\n\n  useEffect(function () {\n    api.getImage(nasa_id).then(function (_ref) {\n      var item = _ref.collection.items;\n      setImage(item[1]);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  }, []);\n  useEffect(function () {\n    api.getDetails(nasa_id).then(function (_ref2) {\n      var description = _ref2[\"AVAIL:Description\"],\n          name = _ref2[\"AVAIL:Title\"];\n      setDetails(description);\n      setTitle(name);\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"article\", {\n    className: \"details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, isLoaded ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"details__image\",\n    src: isLoaded ? image.href : /*#__PURE__*/React.createElement(Preloader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 42\n      }\n    }),\n    alt: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"details__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"details__subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"NASA ID: \", nasa_id), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"details__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, details), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"details__info link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Home\"))) : /*#__PURE__*/React.createElement(Preloader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","api","Preloader","Details","nasa_id","image","setImage","details","setDetails","title","setTitle","isLoaded","setIsLoaded","getImage","then","item","collection","items","catch","err","console","error","getDetails","description","name","href"],"sources":["/Users/tymaraist/NASA-Images-frontend/src/components/details/Details.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Link, useParams } from \"react-router-dom\";\nimport api from \"../../utils/api\";\nimport Preloader from \"../preloader/Preloader\";\n\nexport default function Details() {\n  const { nasa_id } = useParams();\n  const [image, setImage] = useState([]);\n  const [details, setDetails] = useState([]);\n  const [title, setTitle] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    api\n      .getImage(nasa_id)\n      .then(({ collection: { items: item } }) => {\n        setImage(item[1]);\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  useEffect(() => {\n    api\n      .getDetails(nasa_id)\n      .then(({ \"AVAIL:Description\": description, \"AVAIL:Title\": name }) => {\n        setDetails(description);\n        setTitle(name);\n      })\n\n      .catch((err) => console.error(err));\n  }, []);\n\n  return (\n    <article className=\"details\">\n      {isLoaded ? (\n        <>\n          <img\n            className=\"details__image\"\n            src={isLoaded ? image.href : <Preloader />}\n            alt={title}\n          />\n          <h2 className=\"details__title\">{title}</h2>\n          <p className=\"details__subtitle\">NASA ID: {nasa_id}</p>\n          <p className=\"details__info\">{details}</p>\n          <nav>\n            <Link to=\"/\" className=\"details__info link\">\n              Home\n            </Link>\n          </nav>\n        </>\n      ) : (\n        <Preloader />\n      )}\n    </article>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,IAAT,EAAeC,SAAf,QAAgC,kBAAhC;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AAEA,eAAe,SAASC,OAAT,GAAmB;EAAA,iBACZH,SAAS,EADG;EAAA,IACxBI,OADwB,cACxBA,OADwB;;EAAA,gBAENN,QAAQ,CAAC,EAAD,CAFF;EAAA;EAAA,IAEzBO,KAFyB;EAAA,IAElBC,QAFkB;;EAAA,iBAGFR,QAAQ,CAAC,EAAD,CAHN;EAAA;EAAA,IAGzBS,OAHyB;EAAA,IAGhBC,UAHgB;;EAAA,iBAINV,QAAQ,CAAC,EAAD,CAJF;EAAA;EAAA,IAIzBW,KAJyB;EAAA,IAIlBC,QAJkB;;EAAA,iBAKAZ,QAAQ,CAAC,KAAD,CALR;EAAA;EAAA,IAKzBa,QALyB;EAAA,IAKfC,WALe;;EAOhCf,SAAS,CAAC,YAAM;IACdI,GAAG,CACAY,QADH,CACYT,OADZ,EAEGU,IAFH,CAEQ,gBAAqC;MAAA,IAAbC,IAAa,QAAlCC,UAAkC,CAApBC,KAAoB;MACzCX,QAAQ,CAACS,IAAI,CAAC,CAAD,CAAL,CAAR;IACD,CAJH,EAKGG,KALH,CAKS,UAACC,GAAD;MAAA,OAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAT;IAAA,CALT;EAMD,CAPQ,EAON,EAPM,CAAT;EASAtB,SAAS,CAAC,YAAM;IACdI,GAAG,CACAqB,UADH,CACclB,OADd,EAEGU,IAFH,CAEQ,iBAA+D;MAAA,IAAvCS,WAAuC,SAA5D,mBAA4D;MAAA,IAAXC,IAAW,SAA1B,aAA0B;MACnEhB,UAAU,CAACe,WAAD,CAAV;MACAb,QAAQ,CAACc,IAAD,CAAR;IACD,CALH,EAOGN,KAPH,CAOS,UAACC,GAAD;MAAA,OAASC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAT;IAAA,CAPT;EAQD,CATQ,EASN,EATM,CAAT;EAWA,oBACE;IAAS,SAAS,EAAC,SAAnB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGR,QAAQ,gBACP,uDACE;IACE,SAAS,EAAC,gBADZ;IAEE,GAAG,EAAEA,QAAQ,GAAGN,KAAK,CAACoB,IAAT,gBAAgB,oBAAC,SAAD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAF/B;IAGE,GAAG,EAAEhB,KAHP;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAME;IAAI,SAAS,EAAC,gBAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAgCA,KAAhC,CANF,eAOE;IAAG,SAAS,EAAC,mBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAA2CL,OAA3C,CAPF,eAQE;IAAG,SAAS,EAAC,eAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAA8BG,OAA9B,CARF,eASE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,IAAD;IAAM,EAAE,EAAC,GAAT;IAAa,SAAS,EAAC,oBAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UADF,CATF,CADO,gBAiBP,oBAAC,SAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAlBJ,CADF;AAuBD"},"metadata":{},"sourceType":"module"}