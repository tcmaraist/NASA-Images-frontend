(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/card-default.5e7a07dd.jpeg"},11:function(e,t,a){e.exports=a(21)},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),s=(a(20),a(3)),o=a(7),i=a.n(o),u=a(4);function h(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"IMAGES FROM NASA"),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{className:"header__logo",src:i.a,alt:"NASA logo"}))))}function m(e){var t=e.search,a=e.handleChange,n=e.onSubmit;return c.a.createElement("div",{className:"searchform"},c.a.createElement("form",{className:"searchform__form",onSubmit:n},c.a.createElement("input",{className:"searchform__input",type:"search",id:"search",value:t,onChange:a,placeholder:"What are you looking for?"}),c.a.createElement("button",{className:"searchform__button",disabled:""===t,type:"submit",id:"submit-search-btn"},"Search")))}var d=a(1);function f(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," Tyler Maraist"))}function b(e){var t=e.card,a=e.handleMostPopular,n=e.handleMostRecent;return c.a.createElement("section",{className:"navigation"},c.a.createElement("button",{className:"navigation__button",onClick:function(){a(t)}},"Most Popular"),c.a.createElement("button",{className:"navigation__button",onClick:function(){n(t)}},"Most Recent"))}function _(e){var t=e.search,a=e.handleSearchChange,n=e.handleSearchSubmit,r=e.handleMostPopular,l=e.handleMostRecent;return c.a.createElement("div",null,c.a.createElement(h,null),c.a.createElement(m,{search:t,handleChange:a,onSubmit:n}),c.a.createElement(b,{handleMostPopular:r,handleMostRecent:l}),c.a.createElement(d.a,null),c.a.createElement(f,null))}function E(e){var t=e.card,a=e.handleImageClick;return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card__image",src:t.links[0].href,alt:t.data[0].title,onClick:function(){a(t)}}),c.a.createElement("div",null,c.a.createElement("p",{className:"card__title"},t.data[0].title),c.a.createElement("p",{className:"card__description"},t.data[0].description)))}function p(e){var t=e.limit,a=e.cards,n=e.noResults,r=e.handleImageClick,l=e.handleShowMoreClick;return c.a.createElement("section",null,n?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"noResults"}," ","Sorry! Your search did not match any results. Try again.")):c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"cards"},a.slice(0,t||a.length).map(function(e){return c.a.createElement(E,{key:e.data[0].nasa_id,card:e,handleImageClick:r})})),c.a.createElement("button",{className:"cards__button",onClick:function(){l(t)}},"Show more results")))}var g=a(8),v=a(9),S=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(g.a)(this,e),this._baseUrl=a,this._headers=n}return Object(v.a)(e,[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getMostPopular",value:function(){return fetch("".concat(this._baseUrl,"/asset/?orderby=popular"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getMostRecent",value:function(){return fetch("".concat(this._baseUrl,"/asset/?orderby=recent"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"search",value:function(e){return fetch("".concat(this._baseUrl,"/search?media_type=image&q=").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getImage",value:function(e){return fetch("".concat(this._baseUrl,"/asset/").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getDetails",value:function(e){return fetch("".concat(this._baseUrl,"/metadata/").concat(e),{headers:this._headers}).then(this._handleServerResponse).then(function(e){var t=e.location;return fetch(t)}).then(this._handleServerResponse)}}]),e}())({baseUrl:"https://images-api.nasa.gov",headers:{Authorization:"KNwVoypkMlR1eO8crEcvjgcm2fOaCoejuwIyKQ8b","Content-Type":"application/json"}});function N(){return c.a.createElement("i",{className:"circle-preloader"})}function j(e){e.isLoaded;var t=Object(d.h)().nasa_id,a=Object(n.useState)([]),r=Object(s.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)([]),h=Object(s.a)(i,2),m=h[0],f=h[1],b=Object(n.useState)([]),_=Object(s.a)(b,2),E=_[0],p=_[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),j=v[0],O=v[1];return Object(n.useEffect)(function(){S.getImage(t).then(function(e){var t=e.collection.items;o(t[1]),O(!0)}).catch(function(e){return console.error(e)})},[]),Object(n.useEffect)(function(){S.getDetails(t).then(function(e){var t=e["AVAIL:Description"],a=e["AVAIL:Title"];f(t),p(a)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("article",{className:"details"},j?c.a.createElement("img",{className:"details__image",src:l.href,alt:E}):c.a.createElement(N,{className:"details__image"}),c.a.createElement("h2",{className:"details__title"},E),c.a.createElement("p",{className:"details__subtitle"},"NASA ID: ",t),c.a.createElement("p",{className:"details__info"},m),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/",className:"details__info link"},"Home")))}var O=a(10),k=a.n(O);var y=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(6),o=Object(s.a)(l,2),i=o[0],u=o[1],h=Object(n.useState)([]),m=Object(s.a)(h,2),f=m[0],b=m[1],E=Object(n.useState)(""),g=Object(s.a)(E,2),v=g[0],N=g[1],O=Object(n.useState)(!1),y=Object(s.a)(O,2),M=y[0],R=y[1],C=Object(d.g)();return Object(n.useEffect)(function(){S.getMostPopular().then(function(e){var t=e.collection.items;r(!0),b(t)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("div",{className:"page"},c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:"/",element:c.a.createElement(_,{search:v,handleSearchChange:function(e){N(e.target.value)},handleSearchSubmit:function(e){e.preventDefault(),S.search(v).then(function(e){var t=e.collection.items;u(6),0===t.length?(R(!0),r(!0)):(R(!1),r(!0),b(t))}).catch(function(e){return console.error(e)}),C("/")},isLoaded:a,handleMostPopular:function(){r(!1),S.getMostPopular().then(function(e){var t=e.collection.items;r(!0),b(t)}).catch(function(e){return console.error(e)})},handleMostRecent:function(){r(!1),S.getMostRecent().then(function(e){var t=e.collection.items;r(!0),b(t)}).catch(function(e){return console.error(e)})}})},c.a.createElement(d.b,{path:"/:nasa_id",element:c.a.createElement(j,{img:k.a,isLoaded:a})}),c.a.createElement(d.b,{path:"/",element:c.a.createElement(p,{limit:i,cards:f,search:v,noResults:M,handleImageClick:function(e){C("/".concat(e.data[0].nasa_id)),r(!1)},handleShowMoreClick:function(){u(i+3)}})}))))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,null,c.a.createElement(y,null))))},7:function(e,t,a){e.exports=a.p+"static/media/nasa-logo.72c1338e.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.b8b8baf4.chunk.js.map