(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/card-default.5e7a07dd.jpeg"},11:function(e,t,a){e.exports=a(21)},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),s=(a(20),a(2)),o=a(7),i=a.n(o),u=a(4);function m(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"IMAGES FROM NASA"),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{className:"header__logo",src:i.a,alt:"NASA logo"}))))}function h(e){var t=e.search,a=e.handleChange,n=e.onSubmit;return c.a.createElement("div",{className:"searchform"},c.a.createElement("form",{className:"searchform__form",onSubmit:n},c.a.createElement("input",{className:"searchform__input",type:"search",id:"search",value:t,onChange:a,placeholder:"What are you looking for?"}),c.a.createElement("button",{className:"searchform__button",disabled:""===t,type:"submit",id:"submit-search-btn"},"Search")))}var d=a(1);function f(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," Tyler Maraist"))}function _(e){var t=e.search,a=e.handleSearchChange,n=e.handleSearchSubmit;return c.a.createElement("div",null,c.a.createElement(m,null),c.a.createElement(h,{search:t,handleChange:a,onSubmit:n}),c.a.createElement(d.a,null),c.a.createElement(f,null))}function b(e){var t=e.activeTab,a=e.handleMostPopular,n=e.handleMostRecent;return c.a.createElement("section",{className:"navigation"},c.a.createElement("button",{className:"MostPopular"===t?"navigation__button navigation__button_active":"navigation__button",onClick:function(e){a(e)}},"Most Popular"),c.a.createElement("button",{className:"MostRecent"===t?"navigation__button  navigation__button_active":"navigation__button",onClick:function(e){n(e)}},"Most Recent"))}function E(e){var t=e.card,a=e.handleImageClick;return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card__image",src:t.links[0].href,alt:t.data[0].title,onClick:function(){a(t)}}),c.a.createElement("div",null,c.a.createElement("p",{className:"card__title"},t.data[0].title),c.a.createElement("p",{className:"card__description"},t.data[0].description)))}function p(e){var t=e.limit,a=e.cards,n=e.noResults,r=e.handleImageClick,l=e.handleShowMoreClick;return c.a.createElement("section",null,n?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"noResults"}," ","Sorry! Your search did not match any results. Try again.")):c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"cards"},a.slice(0,t||a.length).map(function(e){return c.a.createElement(E,{key:e.data[0].nasa_id,card:e,handleImageClick:r})})),c.a.createElement("button",{className:"cards__button",onClick:function(){l(t)}},"Show more results")))}var v=a(8),g=a(9),S=new(function(){function e(t){var a=t.baseUrl,n=t.headers;Object(v.a)(this,e),this._baseUrl=a,this._headers=n}return Object(g.a)(e,[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getMostPopular",value:function(){return fetch("".concat(this._baseUrl,"/asset/?orderby=popular"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getMostRecent",value:function(){return fetch("".concat(this._baseUrl,"/asset/?orderby=recent"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"search",value:function(e){return fetch("".concat(this._baseUrl,"/search?media_type=image&q=").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getImage",value:function(e){return fetch("".concat(this._baseUrl,"/asset/").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getDetails",value:function(e){return fetch("".concat(this._baseUrl,"/metadata/").concat(e),{headers:this._headers}).then(this._handleServerResponse).then(function(e){var t=e.location;return fetch(t)}).then(this._handleServerResponse)}}]),e}())({baseUrl:"https://images-api.nasa.gov",headers:{Authorization:"KNwVoypkMlR1eO8crEcvjgcm2fOaCoejuwIyKQ8b","Content-Type":"application/json"}});function j(){return c.a.createElement("div",{className:"preloader__container"},c.a.createElement("i",{className:"circle-preloader"}))}function N(e){e.isLoaded;var t=Object(d.h)().nasa_id,a=Object(n.useState)([]),r=Object(s.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),h=m[0],f=m[1],_=Object(n.useState)([]),b=Object(s.a)(_,2),E=b[0],p=b[1],v=Object(n.useState)(!1),g=Object(s.a)(v,2),N=g[0],O=g[1];return Object(n.useEffect)(function(){S.getImage(t).then(function(e){var t=e.collection.items;o(t[1]),O(!0)}).catch(function(e){return console.error(e)})},[]),Object(n.useEffect)(function(){S.getDetails(t).then(function(e){var t=e["AVAIL:Description"],a=e["AVAIL:Title"];f(t),p(a)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("article",{className:"details"},N?c.a.createElement("img",{className:"details__image",src:l.href,alt:E}):c.a.createElement(j,{className:"details__image"}),c.a.createElement("h2",{className:"details__title"},E),c.a.createElement("p",{className:"details__subtitle"},"NASA ID: ",t),c.a.createElement("p",{className:"details__info"},h),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/",className:"details__info link"},"Home")))}var O=a(10),k=a.n(O);var M=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("MostPopular"),o=Object(s.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)(6),h=Object(s.a)(m,2),f=h[0],E=h[1],v=Object(n.useState)([]),g=Object(s.a)(v,2),O=g[0],M=g[1],y=Object(n.useState)(""),R=Object(s.a)(y,2),C=R[0],w=R[1],A=Object(n.useState)(!1),I=Object(s.a)(A,2),P=I[0],D=I[1],U=Object(d.g)();return Object(n.useEffect)(function(){S.getMostPopular().then(function(e){var t=e.collection.items;r(!0),M(t)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("div",{className:"page"},c.a.createElement(d.d,null,c.a.createElement(d.b,{exact:!0,path:"/",element:c.a.createElement(_,{search:C,handleSearchChange:function(e){w(e.target.value)},handleSearchSubmit:function(e){e.preventDefault(),S.search(C).then(function(e){var t=e.collection.items;E(6),0===t.length?(D(!0),r(!0)):(D(!1),M(t),r(!0))}).catch(function(e){return console.error(e)}),U("/")},isLoaded:a})},c.a.createElement(d.b,{path:"/:nasa_id",element:c.a.createElement(N,{img:k.a,isLoaded:a})}),c.a.createElement(d.b,{path:"/",element:c.a.createElement(c.a.Fragment,null," ",c.a.createElement(b,{activeTab:i,handleMostPopular:function(e){e.preventDefault(),r(!1),S.getMostPopular().then(function(e){var t=e.collection.items;u("MostPopular"),M(t),r(!0)}).catch(function(e){return console.error(e)})},handleMostRecent:function(e){e.preventDefault(),r(!1),S.getMostRecent().then(function(e){var t=e.collection.items;u("MostRecent"),M(t),r(!0)}).catch(function(e){return console.error(e)})}})," ",a?c.a.createElement(p,{limit:f,cards:O,search:C,noResults:P,handleImageClick:function(e){U("/".concat(e.data[0].nasa_id)),r(!1)},handleShowMoreClick:function(){E(f+3)}}):c.a.createElement(j,null))}))))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,null,c.a.createElement(M,null))))},7:function(e,t,a){e.exports=a.p+"static/media/nasa-logo.72c1338e.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.e426ead7.chunk.js.map