(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t.p+"static/media/card-default.5e7a07dd.jpeg"},11:function(e,a,t){e.exports=t(21)},20:function(e,a,t){},21:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(6),l=t.n(r),s=(t(20),t(3)),i=t(7),o=t.n(i),u=t(4);function m(){return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"IMAGES FROM NASA"),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{className:"header__logo",src:o.a,alt:"NASA logo"}))))}function h(e){var a=e.search,t=e.handleChange,n=e.onSubmit;return c.a.createElement("div",{className:"searchform"},c.a.createElement("form",{className:"searchform__form",onSubmit:n},c.a.createElement("input",{className:"searchform__input",type:"search",id:"search",value:a,onChange:t,placeholder:"What are you looking for?"}),c.a.createElement("button",{className:"searchform__button",disabled:""===a,type:"submit",id:"submit-search-btn"},"Search")))}function d(){return c.a.createElement("i",{className:"circle-preloader"})}var f=t(1);function b(){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"footer__copyright"},"\xa9 ",(new Date).getFullYear()," Tyler Maraist"))}function E(e){var a=e.search,t=e.handleSearchChange,n=e.handleSearchSubmit;e.isLoaded;return c.a.createElement("div",null,c.a.createElement(m,null),c.a.createElement(h,{search:a,handleChange:t,onSubmit:n}),c.a.createElement(f.a,null),c.a.createElement(b,null))}function _(e){var a=e.card,t=e.handleImageClick;return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card__image",src:a.links[0].href,alt:a.data[0].title,onClick:function(){t(a)}}),c.a.createElement("div",null,c.a.createElement("p",{className:"card__title"},a.data[0].title),c.a.createElement("p",{className:"card__description"},a.data[0].description)))}function p(e){var a=e.limit,t=e.cards,n=e.noResults,r=e.handleImageClick,l=e.handleShowMoreClick;return c.a.createElement("section",null,n?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"noResults"}," ","Sorry! Your search did not match any results. Try again.")):c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"cards"},t.slice(0,a||t.length).map(function(e){return c.a.createElement(_,{key:e.data[0].nasa_id,card:e,handleImageClick:r})})),c.a.createElement("button",{className:"cards__button",onClick:function(){l(a)}},"Show more results")))}var g=t(8),v=t(9),S=new(function(){function e(a){var t=a.baseUrl,n=a.headers;Object(g.a)(this,e),this._baseUrl=t,this._headers=n}return Object(v.a)(e,[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._baseUrl,"/asset/?orderby=popular"),{headers:this._headers}).then(this._handleServerResponse)}},{key:"search",value:function(e){return fetch("".concat(this._baseUrl,"/search?media_type=image&q=").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getImage",value:function(e){return fetch("".concat(this._baseUrl,"/asset/").concat(e),{headers:this._headers}).then(this._handleServerResponse)}},{key:"getDetails",value:function(e){return fetch("".concat(this._baseUrl,"/metadata/").concat(e),{headers:this._headers}).then(this._handleServerResponse).then(function(e){var a=e.location;return fetch(a)}).then(this._handleServerResponse)}}]),e}())({baseUrl:"https://images-api.nasa.gov",headers:{Authorization:"KNwVoypkMlR1eO8crEcvjgcm2fOaCoejuwIyKQ8b","Content-Type":"application/json"}});function j(e){e.isLoaded;var a=Object(f.h)().nasa_id,t=Object(n.useState)([]),r=Object(s.a)(t,2),l=r[0],i=r[1],o=Object(n.useState)([]),m=Object(s.a)(o,2),h=m[0],b=m[1],E=Object(n.useState)([]),_=Object(s.a)(E,2),p=_[0],g=_[1],v=Object(n.useState)(!1),j=Object(s.a)(v,2),N=j[0],O=j[1];return Object(n.useEffect)(function(){S.getImage(a).then(function(e){var a=e.collection.items;i(a[1]),O(!0)}).catch(function(e){return console.error(e)})},[]),Object(n.useEffect)(function(){S.getDetails(a).then(function(e){var a=e["AVAIL:Description"],t=e["AVAIL:Title"];b(a),g(t)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("article",{className:"details"},N?c.a.createElement("img",{className:"details__image",src:l.href,alt:p}):c.a.createElement(d,{className:"details__image"}),c.a.createElement("h2",{className:"details__title"},p),c.a.createElement("p",{className:"details__subtitle"},"NASA ID: ",a),c.a.createElement("p",{className:"details__info"},h),c.a.createElement("nav",null,c.a.createElement(u.b,{to:"/",className:"details__info link"},"Home")))}var N=t(10),O=t.n(N);var k=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(6),i=Object(s.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)([]),h=Object(s.a)(m,2),d=h[0],b=h[1],_=Object(n.useState)(""),g=Object(s.a)(_,2),v=g[0],N=g[1],k=Object(n.useState)(!1),y=Object(s.a)(k,2),C=y[0],I=y[1],w=Object(f.g)();return Object(n.useEffect)(function(){S.getInitialCards().then(function(e){var a=e.collection.items;r(!0),b(a)}).catch(function(e){return console.error(e)})},[]),c.a.createElement("div",{className:"page"},c.a.createElement(f.d,null,c.a.createElement(f.b,{exact:!0,path:"/",element:c.a.createElement(E,{search:v,handleSearchChange:function(e){N(e.target.value)},handleSearchSubmit:function(e){e.preventDefault(),S.search(v).then(function(e){var a=e.collection.items;u(6),0===a.length?(I(!0),r(!0)):(I(!1),r(!0),b(a))}).catch(function(e){return console.error(e)}),w("/")},isLoaded:t})},c.a.createElement(f.b,{path:"/:nasa_id",element:c.a.createElement(j,{img:O.a,isLoaded:t})}),c.a.createElement(f.b,{path:"/",element:c.a.createElement(p,{limit:o,cards:d,search:v,noResults:C,handleImageClick:function(e){w("/".concat(e.data[0].nasa_id)),r(!1)},handleShowMoreClick:function(){u(o+3)}})}))))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,null,c.a.createElement(k,null))))},7:function(e,a,t){e.exports=t.p+"static/media/nasa-logo.72c1338e.svg"}},[[11,1,2]]]);
//# sourceMappingURL=main.cf889ced.chunk.js.map